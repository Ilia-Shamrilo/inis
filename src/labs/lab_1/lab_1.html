<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie</title>
    <style>
        table {
            width: 80%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #000000;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #6de7ff;
        }
    </style>
</head>
<body>
<div id="movies-table"></div>

<script>
    function getNumberOfFilms() {
        let number;
        do {
            number = prompt('Сколько фильмов вам запомнилось?', '').trim();
        } while (!number || isNaN(number) || Number(number) <= 0);
        return Number(number);
    }

    let numberOfFilms = getNumberOfFilms();

    // Создаем объект personalMovieDB
    const personalMovieDB = {
        count: numberOfFilms,
        movies: []
    };

    // Запрашиваем информацию о фильмах
    for (let i = 0; i < numberOfFilms; i++) {
        let filmName, filmRating;

        // Проверка названия фильма
        do {
            filmName = prompt(`Название фильма ${i + 1}:`, '').trim();
        } while (!filmName || filmName.length > 50);

        // Проверка оценки фильма (от 1 до 10)
        do {
            filmRating = prompt(`На сколько оцените "${filmName}"? (от 1 до 10)`, '').trim();
        } while (isNaN(filmRating) || filmRating < 1 || filmRating > 10);

        // Добавляем фильм в массив
        personalMovieDB.movies.push({ name: filmName, rating: Number(filmRating) });
    }

    console.log(personalMovieDB);

    // Функция для вывода таблицы с фильмами
    function renderMoviesTable(movies) {
        const table = document.createElement('table');
        const thead = document.createElement('thead');
        const tbody = document.createElement('tbody');

        // Создаем строку заголовков
        const headerRow = document.createElement('tr');

        // Заголовки "Фильм" и "Оценка"
        const thFilm = document.createElement('th');
        thFilm.textContent = 'Фильм';
        headerRow.appendChild(thFilm);

        const thRating = document.createElement('th');
        thRating.textContent = 'Оценка';
        headerRow.appendChild(thRating);

        thead.appendChild(headerRow);
        table.appendChild(thead);

        // Создаем строки с фильмами и оценками
        movies.forEach(movie => {
            const row = document.createElement('tr');
            const tdFilm = document.createElement('td');
            tdFilm.textContent = movie.name;
            row.appendChild(tdFilm);

            const tdRating = document.createElement('td');
            tdRating.textContent = movie.rating;
            row.appendChild(tdRating);

            tbody.appendChild(row);
        });

        table.appendChild(tbody);
        document.getElementById('movies-table').appendChild(table);
    }

    renderMoviesTable(personalMovieDB.movies);
</script>
</body>
</html>